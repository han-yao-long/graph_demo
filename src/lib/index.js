(()=>{"use strict";var t={938:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SMatrix=void 0;class s{constructor(){this.m11=1,this.m21=0,this.m31=0,this.m41=0,this.m12=0,this.m22=1,this.m32=0,this.m42=0,this.m13=0,this.m23=0,this.m33=1,this.m43=0,this.m14=0,this.m24=0,this.m34=0,this.m44=1}get a(){return this.m11}set a(t){this.m11=t}get b(){return this.m12}set b(t){this.m12=t}get c(){return this.m21}set c(t){this.m21=t}get d(){return this.m22}set d(t){this.m22=t}get e(){return this.m41}set e(t){this.m41=t}get f(){return this.m42}set f(t){this.m42=t}get is2D(){return!0}get isIdentity(){return 1==this.m11&&0==this.m21&&0==this.m31&&0==this.m41&&0==this.m12&&1==this.m22&&0==this.m32&&0==this.m42&&0==this.m13&&0==this.m23&&1==this.m33&&0==this.m43&&0==this.m14&&0==this.m24&&0==this.m34&&1==this.m44}reset(){return this.m11=1,this.m21=0,this.m31=0,this.m41=0,this.m12=0,this.m22=1,this.m32=0,this.m42=0,this.m13=0,this.m23=0,this.m33=1,this.m43=0,this.m14=0,this.m24=0,this.m34=0,this.m44=1,this}multiply(t){return[this.m11,this.m21,this.m31,this.m41,this.m12,this.m22,this.m32,this.m42,this.m13,this.m23,this.m33,this.m43,this.m14,this.m24,this.m34,this.m44]=[this.m11*t.m11+this.m21*t.m12+this.m31*t.m13+this.m41*t.m14,this.m11*t.m21+this.m21*t.m22+this.m31*t.m23+this.m41*t.m24,this.m11*t.m31+this.m21*t.m32+this.m31*t.m33+this.m41*t.m34,this.m11*t.m41+this.m21*t.m42+this.m31*t.m43+this.m41*t.m44,this.m12*t.m11+this.m22*t.m12+this.m32*t.m13+this.m42*t.m14,this.m12*t.m21+this.m22*t.m22+this.m32*t.m23+this.m42*t.m24,this.m12*t.m31+this.m22*t.m32+this.m32*t.m33+this.m42*t.m34,this.m12*t.m41+this.m22*t.m42+this.m32*t.m43+this.m42*t.m44,this.m13*t.m11+this.m23*t.m12+this.m33*t.m13+this.m43*t.m14,this.m13*t.m21+this.m23*t.m22+this.m33*t.m23+this.m43*t.m24,this.m13*t.m31+this.m23*t.m32+this.m33*t.m33+this.m43*t.m34,this.m13*t.m41+this.m23*t.m42+this.m33*t.m43+this.m43*t.m44,this.m14*t.m11+this.m24*t.m12+this.m34*t.m13+this.m44*t.m14,this.m14*t.m21+this.m24*t.m22+this.m34*t.m23+this.m44*t.m24,this.m14*t.m31+this.m24*t.m32+this.m34*t.m33+this.m44*t.m34,this.m14*t.m41+this.m24*t.m42+this.m34*t.m43+this.m44*t.m44],this}translate(t,i,m=0){const h=new s;return h.m41=t,h.m42=i,h.m43=m,this.multiply(h),this}scale(t,i){const m=new s;return m.m11=t,m.m22=i,this.multiply(m),this}rotate(t,i,m){const h=new s;if(null!=i&&null!=m){const e=new s;e.m22=Math.cos(t*Math.PI/180),e.m32=-Math.sin(t*Math.PI/180),e.m23=Math.sin(t*Math.PI/180),e.m33=Math.cos(t*Math.PI/180),this.multiply(e);const r=new s;return r.m11=Math.cos(i*Math.PI/180),r.m31=Math.sin(i*Math.PI/180),r.m13=-Math.sin(i*Math.PI/180),r.m33=Math.cos(i*Math.PI/180),this.multiply(r),h.m11=Math.cos(m*Math.PI/180),h.m21=-Math.sin(m*Math.PI/180),h.m12=Math.sin(m*Math.PI/180),h.m22=Math.cos(m*Math.PI/180),this.multiply(h),this}return h.m11=Math.cos(t*Math.PI/180),h.m21=-Math.sin(t*Math.PI/180),h.m12=Math.sin(t*Math.PI/180),h.m22=Math.cos(t*Math.PI/180),this.multiply(h),this}transpose(){return[this.m12,this.m21]=[this.m21,this.m12],[this.m13,this.m31]=[this.m31,this.m13],[this.m14,this.m41]=[this.m41,this.m14],[this.m23,this.m32]=[this.m32,this.m23],[this.m24,this.m42]=[this.m42,this.m24],[this.m34,this.m43]=[this.m43,this.m34],this}inversed(){const t=this.det(),i=this.value(),m=new s;return m.m11=t.m11/i,m.m21=t.m21/i,m.m31=t.m31/i,m.m41=t.m41/i,m.m12=t.m12/i,m.m22=t.m22/i,m.m32=t.m32/i,m.m42=t.m42/i,m.m13=t.m13/i,m.m23=t.m23/i,m.m33=t.m33/i,m.m43=t.m43/i,m.m14=t.m14/i,m.m24=t.m24/i,m.m34=t.m34/i,m.m44=t.m44/i,m}det(){const t=new s;return t.m11=this.m22*this.m33*this.m44+this.m32*this.m43*this.m24+this.m42*this.m23*this.m34-this.m42*this.m33*this.m24-this.m32*this.m23*this.m44-this.m22*this.m43*this.m34,t.m12=-(this.m12*this.m33*this.m44+this.m32*this.m43*this.m14+this.m42*this.m13*this.m34-this.m42*this.m33*this.m14-this.m32*this.m13*this.m44-this.m12*this.m43*this.m34),t.m13=this.m12*this.m23*this.m44+this.m22*this.m43*this.m14+this.m42*this.m13*this.m24-this.m42*this.m23*this.m14-this.m22*this.m13*this.m44-this.m12*this.m43*this.m24,t.m14=-(this.m12*this.m23*this.m34+this.m22*this.m33*this.m14+this.m32*this.m13*this.m24-this.m32*this.m23*this.m14-this.m22*this.m13*this.m34-this.m12*this.m33*this.m24),t.m21=-(this.m21*this.m33*this.m44+this.m31*this.m43*this.m24+this.m41*this.m23*this.m34-this.m41*this.m33*this.m24-this.m31*this.m23*this.m44-this.m21*this.m43*this.m34),t.m22=this.m11*this.m33*this.m44+this.m31*this.m43*this.m14+this.m41*this.m13*this.m34-this.m41*this.m33*this.m14-this.m31*this.m13*this.m44-this.m11*this.m43*this.m34,t.m23=-(this.m11*this.m23*this.m44+this.m21*this.m43*this.m14+this.m41*this.m13*this.m24-this.m41*this.m23*this.m14-this.m21*this.m13*this.m44-this.m11*this.m43*this.m24),t.m24=this.m11*this.m23*this.m34+this.m21*this.m33*this.m14+this.m31*this.m13*this.m24-this.m31*this.m23*this.m14-this.m21*this.m13*this.m34-this.m11*this.m33*this.m24,t.m31=this.m21*this.m32*this.m44+this.m31*this.m42*this.m24+this.m41*this.m22*this.m34-this.m41*this.m32*this.m24-this.m31*this.m22*this.m44-this.m21*this.m42*this.m34,t.m32=-(this.m11*this.m32*this.m44+this.m31*this.m42*this.m14+this.m41*this.m12*this.m34-this.m41*this.m32*this.m14-this.m31*this.m12*this.m44-this.m11*this.m42*this.m34),t.m33=this.m11*this.m22*this.m44+this.m21*this.m42*this.m14+this.m41*this.m12*this.m24-this.m41*this.m22*this.m14-this.m21*this.m12*this.m44-this.m11*this.m42*this.m24,t.m34=-(this.m11*this.m22*this.m34+this.m21*this.m32*this.m14+this.m31*this.m12*this.m24-this.m31*this.m22*this.m14-this.m21*this.m12*this.m34-this.m11*this.m32*this.m24),t.m41=-(this.m21*this.m32*this.m43+this.m31*this.m42*this.m23+this.m41*this.m22*this.m33-this.m41*this.m32*this.m23-this.m31*this.m22*this.m43-this.m21*this.m42*this.m33),t.m42=this.m11*this.m32*this.m43+this.m31*this.m42*this.m13+this.m41*this.m12*this.m33-this.m41*this.m32*this.m13-this.m31*this.m12*this.m43-this.m11*this.m42*this.m33,t.m43=-(this.m11*this.m22*this.m43+this.m21*this.m42*this.m13+this.m41*this.m12*this.m23-this.m41*this.m22*this.m13-this.m21*this.m12*this.m43-this.m11*this.m42*this.m23),t.m44=this.m11*this.m22*this.m33+this.m21*this.m32*this.m13+this.m31*this.m12*this.m23-this.m31*this.m22*this.m13-this.m21*this.m12*this.m33-this.m11*this.m32*this.m23,t}value(){return this.m11*(this.m22*this.m33*this.m44+this.m32*this.m43*this.m24+this.m42*this.m23*this.m34-this.m42*this.m33*this.m24-this.m32*this.m23*this.m44-this.m22*this.m43*this.m34)-this.m21*(this.m12*this.m33*this.m44+this.m32*this.m43*this.m14+this.m42*this.m13*this.m34-this.m42*this.m33*this.m14-this.m32*this.m13*this.m44-this.m12*this.m43*this.m34)+this.m31*(this.m12*this.m23*this.m44+this.m22*this.m43*this.m14+this.m42*this.m13*this.m24-this.m42*this.m23*this.m14-this.m22*this.m13*this.m44-this.m12*this.m43*this.m24)-this.m41*(this.m12*this.m23*this.m34+this.m22*this.m33*this.m14+this.m32*this.m13*this.m24-this.m32*this.m23*this.m14-this.m22*this.m13*this.m34-this.m12*this.m33*this.m24)}}i.SMatrix=s},368:(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SMouseEvent=void 0;const m=s(938);class h{constructor(t){this.matrix=new m.SMatrix,this.type=t.type,this.screenX=t.screenX,this.screenY=t.screenY,this.clientX=t.clientX,this.clientY=t.clientY,this.offsetX=t.offsetX,this.offsetY=t.offsetY,this.altKey=t.altKey,this.ctrlKey=t.ctrlKey,this.shiftKey=t.shiftKey,this.buttons=t.buttons,t instanceof h?(this.x=t.x,this.y=t.y,this.matrix.m11=t.matrix.m11,this.matrix.m12=t.matrix.m12,this.matrix.m13=t.matrix.m13,this.matrix.m14=t.matrix.m14,this.matrix.m21=t.matrix.m21,this.matrix.m22=t.matrix.m22,this.matrix.m23=t.matrix.m23,this.matrix.m24=t.matrix.m24,this.matrix.m31=t.matrix.m31,this.matrix.m32=t.matrix.m32,this.matrix.m33=t.matrix.m33,this.matrix.m34=t.matrix.m34,this.matrix.m41=t.matrix.m41,this.matrix.m42=t.matrix.m42,this.matrix.m43=t.matrix.m43,this.matrix.m44=t.matrix.m44):(this.x=t.offsetX,this.y=t.offsetY)}}i.SMouseEvent=h},179:(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SObject=void 0;const m=s(395);i.SObject=class{constructor(){this.name="",this.listeners={},this.id=""}connect(t,i,s){let h=this.listeners[t];if(h){for(let t of h)if(t.compar(i))return}else this.listeners[t]=[];this.listeners[t].push(new m.SObjectObserver(i,s))}disconnect(t,i){let s=this.listeners[t];if(!s)return;let m=s.length;for(let t=0;t<m;t++)if(s[t].compar(i)){s.splice(t,1);break}0==s.length&&delete this.listeners[t]}$emit(t,...i){let s=this.listeners[t];if(s)for(let t of s)t.notify(this,i)}}},395:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SObjectObserver=void 0,i.SObjectObserver=class{constructor(t,i){this.receiver=null,this.receiver=t,this.callback=i}notify(...t){this.callback.call(this.receiver,...t)}compar(t){return t==this.receiver}}},644:(t,i)=>{var s;Object.defineProperty(i,"__esModule",{value:!0}),i.SKeyCode=void 0,(s=i.SKeyCode||(i.SKeyCode={}))[s.Enter=13]="Enter",s[s.Esc=27]="Esc",s[s.Delete=127]="Delete",s[s.A=65]="A",s[s.B=66]="B",s[s.C=67]="C",s[s.D=68]="D",s[s.E=69]="E",s[s.F=70]="F",s[s.G=71]="G",s[s.H=72]="H",s[s.I=73]="I",s[s.J=74]="J",s[s.K=75]="K",s[s.L=76]="L",s[s.M=77]="M",s[s.N=78]="N",s[s.O=79]="O",s[s.P=80]="P",s[s.Q=81]="Q",s[s.R=82]="R",s[s.S=83]="S",s[s.T=84]="T",s[s.U=85]="U",s[s.V=86]="V",s[s.W=87]="W",s[s.X=88]="X",s[s.Y=89]="Y",s[s.Z=90]="Z",s[s.a=97]="a",s[s.b=98]="b",s[s.c=99]="c",s[s.d=100]="d",s[s.e=101]="e",s[s.f=102]="f",s[s.g=103]="g",s[s.h=104]="h",s[s.i=105]="i",s[s.j=106]="j",s[s.k=107]="k",s[s.l=108]="l",s[s.m=109]="m",s[s.n=110]="n",s[s.o=111]="o",s[s.p=112]="p",s[s.q=113]="q",s[s.r=114]="r",s[s.s=115]="s",s[s.t=116]="t",s[s.u=117]="u",s[s.v=118]="v",s[s.w=119]="w",s[s.x=120]="x",s[s.y=121]="y",s[s.z=122]="z"},854:(t,i)=>{var s;Object.defineProperty(i,"__esModule",{value:!0}),i.SMouseButton=void 0,(s=i.SMouseButton||(i.SMouseButton={}))[s.LeftButton=1]="LeftButton",s[s.RightButton=2]="RightButton",s[s.MidButton=4]="MidButton"},588:(t,i)=>{var s;Object.defineProperty(i,"__esModule",{value:!0}),i.STouchState=void 0,(s=i.STouchState||(i.STouchState={}))[s.None=0]="None",s[s.Move=1]="Move",s[s.Zoom=2]="Zoom"},913:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SUndoCommand=void 0,i.SUndoCommand=class{constructor(t=null){this.desc="undefined"}mergeWith(t){return!1}id(){return-1}toString(){return""}}},696:(t,i,s)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SUndoStack=void 0;const m=s(179);class h extends m.SObject{constructor(){super(...arguments),this.cmdStack=Array(),this._index=-1,this.isChange=!1}get index(){return this._index}set index(t){this._index=t}get isEmpty(){return this.cmdStack.length<=0}redo(){this.canRedo()&&(this.index++,this.cmdStack[this.index].redo(),this.$emit("cmdListChange"),this.isChange=!0)}undo(){this.canUndo()&&(this.cmdStack[this.index].undo(),this.index--,this.$emit("cmdListChange"),this.isChange=!0)}canRedo(){return this.index+1<this.cmdStack.length}canUndo(){return this.index>=0}clear(){this.cmdStack.length=0,this.index=-1,this.isChange=!0}command(t){return t<0||t>=this.cmdStack.length?null:this.cmdStack[t]}count(){return this.cmdStack.length}push(t){this.cmdStack.length=this.index+1,this.index>=0&&t.mergeWith(this.cmdStack[this.index])||(this.cmdStack.push(t),this.index=this.cmdStack.length-1,this.isChange=!0)}toLog(){let t=[];for(let i=0;i<=this.index;i++)t.push({command:this.cmdStack[i].command,desc:this.cmdStack[i].desc,detail:this.cmdStack[i].toString()});return t}}i.SUndoStack=h},293:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SNetUtil=void 0,i.SNetUtil=class{static downLoad(t,i){let s=document.createElement("a");s.download=t,s.href=i,document.body.appendChild(s),s.click(),s.remove()}}},831:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SStringBuilder=void 0,i.SStringBuilder=class{constructor(t){this._strArray=new Array,null!=t&&this.append(t)}append(t){return this._strArray.push(t),this}toString(t="\n"){return this._strArray.join(t)}}},152:(t,i)=>{Object.defineProperty(i,"__esModule",{value:!0}),i.SStringUtil=void 0,i.SStringUtil=class{static num2Hex(t,i=2){let s="",m=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];for(;i>0;)s=m[15&t]+s,t>>=4,i--;return s}}}},i={};function s(m){var h=i[m];if(void 0!==h)return h.exports;var e=i[m]={exports:{}};return t[m](e,e.exports,s),e.exports}var m={};(()=>{var t=m;Object.defineProperty(t,"__esModule",{value:!0}),t.SObjectObserver=t.SObject=t.SMouseEvent=t.SMatrix=t.SStringUtil=t.SStringBuilder=t.SNetUtil=t.SUndoStack=t.SUndoCommand=t.SKeyCode=t.STouchState=t.SMouseButton=void 0;const i=s(854);Object.defineProperty(t,"SMouseButton",{enumerable:!0,get:function(){return i.SMouseButton}});const h=s(588);Object.defineProperty(t,"STouchState",{enumerable:!0,get:function(){return h.STouchState}});const e=s(644);Object.defineProperty(t,"SKeyCode",{enumerable:!0,get:function(){return e.SKeyCode}});const r=s(913);Object.defineProperty(t,"SUndoCommand",{enumerable:!0,get:function(){return r.SUndoCommand}});const n=s(696);Object.defineProperty(t,"SUndoStack",{enumerable:!0,get:function(){return n.SUndoStack}});const o=s(293);Object.defineProperty(t,"SNetUtil",{enumerable:!0,get:function(){return o.SNetUtil}});const c=s(831);Object.defineProperty(t,"SStringBuilder",{enumerable:!0,get:function(){return c.SStringBuilder}});const a=s(152);Object.defineProperty(t,"SStringUtil",{enumerable:!0,get:function(){return a.SStringUtil}});const u=s(938);Object.defineProperty(t,"SMatrix",{enumerable:!0,get:function(){return u.SMatrix}});const d=s(368);Object.defineProperty(t,"SMouseEvent",{enumerable:!0,get:function(){return d.SMouseEvent}});const l=s(179);Object.defineProperty(t,"SObject",{enumerable:!0,get:function(){return l.SObject}});const S=s(395);Object.defineProperty(t,"SObjectObserver",{enumerable:!0,get:function(){return S.SObjectObserver}})})();var h=exports;for(var e in m)h[e]=m[e];m.__esModule&&Object.defineProperty(h,"__esModule",{value:!0})})();